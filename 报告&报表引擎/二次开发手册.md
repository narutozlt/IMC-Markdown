<h1 align="center" style="margin: 30px 0 30px; font-weight: bold;">报告&报表二次开发手册</h1>
<h4 align="center">基于 Vue/Element UI 和 Spring Boot/Spring Cloud & Alibaba 前后端分离的分布式微服务架构</h4>
<p align="center">
    <a href="http://imc.smartsolutions.com.cn/login"></a>
    <a href="http://imc.smartsolutions.com.cn/login"><img src="https://img.shields.io/badge/IMC-v3.5.0-brightgreen.svg"></a>	
</p>

### 使用步骤简述

#### 场景一：IMC框架方法

1. 进入【报表管理】->【报表设计】完成自定义报表模板设计，并保存。
2. 在Schema文件的"方法"sheet也添加方法名，及入参（入参种可配置模板分类，或指定模板id）。
3. 前端引用UI组件，即可实现当前数据的报表功能。
4. 选中数据，点击报表按钮后，会跳转到配置的模板列表页面，选择需要的报表输入参数即可生成报表。

#### 场景二：IMC对象支持通用

1. 进入【报表管理】->【报表设计】完成自定义报表模板的设计，并保存。
2. 在Schema文件中配置类实现ICIMReportTemplateDocument
3. 前端引用UI组件，即可实现当前数据的报表功能。
4. 选中数据，点击报表按钮后，会跳转报表模板列表页面，选择需要的报表输入参数即可生成报表。

#### 场景三：IMC框架条件

1. 在Schema文件中配置报表模板支持的筛选条件。
2. 进入【报表管理】->【报表设计】完成自定义报表模板的设计，选择支持的条件对象，并保存。
3. 在Schema文件中配置对象的条件字段。
4. 前端引用UI组件，即可实现当前数据的报表功能。
5. 选中数据，点击报表按钮后，会跳转到满足筛选条件的报表模板列表页面，选择需要的报表输入参数即可生成报表。

#### 场景四：通用管理

1. 进入【报表管理】->【报表设计】完成自定义报表的设计，并保存。

2. 前端项目中需要使用报表的地方添加如下代码:

   ```js
   import { useReport } from '../src/hooks';
   const report = useReport();
   const onClick = () => {
     report.create({});
   };
   ```

3. 至此运行项目，当点击报表按钮后，会跳转到统一报表列表页面，选择需要的报表输入参数即可生成。

#### 场景五：指定报表

1. 进入【报表管理】->【报表设计】完成自定义报表的设计，并保存。

2. 进入【报表管理】->【报表模版管理】查看需要的模版ID。

3. 前端项目中需要使用此报表的地方添加如下代码:

   ```js
   import { useReport } from '../src/hooks';
   const report = useReport();
   const onClick = () => {
     report.create({
       uid: '步骤二中获得的模版ID',
       onPreview: (res: any) => {
         console.log('onPreview', res);
       },
     });
   };
   ```

4. 至此运行项目，当点击报表按钮后，会弹出参数输入框，提供预览和生成报表功能。